<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hungarian National Bank Exchange Rates - Forex Trading Platform</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-chart-line me-2"></i>Forex Trading Platform
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/">
                    <i class="fas fa-home me-1"></i>Home
                </a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col">
                <h2 class="fw-bold">
                    <i class="fas fa-university me-2 text-primary"></i>
                    Hungarian National Bank Exchange Rates
                </h2>
                <p class="text-muted">Access official exchange rates and historical data with interactive charts</p>
            </div>
        </div>

        <!-- Form Card -->
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-sm">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">
                            <i class="fas fa-calendar-alt me-2"></i>Exchange Rate Request
                        </h5>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/mnb-rates}" th:object="${mnbRequest}" method="post">
                            <div class="row g-3">
                                <!-- Currency Selection -->
                                <div class="col-12">
                                    <label for="currency" class="form-label fw-bold">
                                        <i class="fas fa-money-bill-wave me-2 text-success"></i>Currency
                                    </label>
                                    <select class="form-select" id="currency" th:field="*{currency}" required>
                                        <option value="">Select Currency</option>
                                        <option value="EUR">EUR - Euro</option>
                                        <option value="USD">USD - US Dollar</option>
                                        <option value="GBP">GBP - British Pound</option>
                                        <option value="CHF">CHF - Swiss Franc</option>
                                        <option value="JPY">JPY - Japanese Yen</option>
                                        <option value="PLN">PLN - Polish Zloty</option>
                                        <option value="CZK">CZK - Czech Koruna</option>
                                        <option value="SEK">SEK - Swedish Krona</option>
                                        <option value="NOK">NOK - Norwegian Krone</option>
                                        <option value="DKK">DKK - Danish Krone</option>
                                    </select>
                                </div>

                                <!-- Start Date -->
                                <div class="col-md-6">
                                    <label for="startDate" class="form-label fw-bold">
                                        <i class="fas fa-calendar-day me-2 text-info"></i>Start Date
                                    </label>
                                    <input type="date" class="form-control" id="startDate" th:field="*{startDate}" required>
                                </div>

                                <!-- End Date -->
                                <div class="col-md-6">
                                    <label for="endDate" class="form-label fw-bold">
                                        <i class="fas fa-calendar-check me-2 text-warning"></i>End Date
                                    </label>
                                    <input type="date" class="form-control" id="endDate" th:field="*{endDate}" required>
                                </div>

                                <!-- Submit Button -->
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn btn-primary btn-lg px-5">
                                        <i class="fas fa-chart-bar me-2"></i>
                                        Get Exchange Rates & Chart
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Info Section -->
        <div class="row mt-4">
            <div class="col">
                <div class="alert alert-info">
                    <h5 class="alert-heading">
                        <i class="fas fa-info-circle me-2"></i>About MNB Exchange Rates
                    </h5>
                    <p class="mb-0">
                        The Hungarian National Bank (MNB) provides official exchange rates for various currencies. 
                        This service fetches historical exchange rate data and displays it in an interactive chart 
                        using Chart.js for better visualization and analysis.
                    </p>
                </div>
            </div>
        </div>

        <!-- Back Button -->
        <div class="row mt-4">
            <div class="col">
                <a href="/" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left me-2"></i>Back to Dashboard
                </a>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Set default dates (last 30 days)
        const today = new Date();
        const thirtyDaysAgo = new Date(today);
        thirtyDaysAgo.setDate(today.getDate() - 30);
        
        document.getElementById('endDate').value = today.toISOString().split('T')[0];
        document.getElementById('startDate').value = thirtyDaysAgo.toISOString().split('T')[0];
    </script>
</body>
</html>